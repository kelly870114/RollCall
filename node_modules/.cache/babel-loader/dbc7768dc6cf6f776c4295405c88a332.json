{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\src\\\\components\\\\Apply\\\\ApplyForm.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Myclass from './ApplyFormClass';\nimport { Snackbar, SnackbarContent, Button } from '@material-ui/core';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\nimport noTrain from './noTrain.jpg';\nimport { fetchPostStudent, fetchPostAccount } from '../../api';\nimport axios from 'axios';\nimport Airtable from 'airtable';\nvar base = new Airtable({\n  apiKey: 'keyA7EKdngjou4Dgy'\n}).base('appcXtOTPnE4QWIIt');\nvar tableClass = base('ClassDay');\n\nfunction sleep(time) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, time);\n  });\n}\n\nfunction createData(id, class_name) {\n  return {\n    id: id,\n    class_name: class_name\n  };\n}\n\nvar IP = \"http://localhost:8080\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      margin: 'auto',\n      width: '40%'\n    },\n    container: {\n      color: 'white'\n    },\n    photo: {\n      width: '200px',\n      height: '200px',\n      marginLeft: '38%',\n      marginTop: theme.spacing.unit * 10\n    },\n    input: {\n      outline: 'none',\n      opacity: 0,\n      width: '47%'\n    },\n    train: {\n      marginTop: theme.spacing.unit * 2\n    },\n    button: {\n      display: 'flex',\n      border: '1px #FFBF5F solid',\n      borderRadius: '30px',\n      color: '#FFBF5F',\n      margin: 'auto'\n    },\n    rightIcon: {\n      marginLeft: theme.spacing.unit\n    },\n    textFieldLeft: {\n      marginLeft: '14%',\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '260px'\n    },\n    textFieldRight: {\n      marginLeft: theme.spacing.unit * 6,\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '260px'\n    },\n    textFieldFull: {\n      marginLeft: '14%',\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '570px'\n    },\n    form: {\n      width: '800px',\n      margin: 'auto'\n    },\n    snack: {\n      backgroundColor: '#FFBF5F',\n      color: 'white'\n    }\n  };\n};\n\nvar OutlinedTextFields =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(OutlinedTextFields, _React$Component);\n\n  function OutlinedTextFields(props) {\n    var _this;\n\n    _classCallCheck(this, OutlinedTextFields);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(OutlinedTextFields).call(this, props));\n\n    _this.myCallback = function (dataFromChild) {\n      //this.setState({ class_id: dataFromChild }); \n      console.log(dataFromChild);\n      var temp = [];\n\n      for (var i = 0; i < dataFromChild.length; i++) {\n        for (var index = 0; index < _this.state.classDaydata.length; index++) {\n          if (dataFromChild[i] == _this.state.classDaydata[index].class_name) {\n            temp.push(_this.state.classDaydata[index].id);\n\n            _this.setState({\n              class_id: temp\n            });\n          }\n        }\n      }\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value)); //console.log(this.state);\n\n      };\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var data = {\n        fields: {\n          student_name: {},\n          class_id_link: {},\n          student_id: {},\n          student_grade: {},\n          student_phone: {},\n          student_birth: {},\n          student_school: {},\n          student_email: {},\n          student_parent: {},\n          student_parent_phone: {},\n          student_address: {},\n          student_img: {}\n        }\n      };\n      var accountData = {\n        fields: {\n          account_id: {},\n          account_passwd: {},\n          account_role: {}\n        }\n      };\n      data.fields.student_name = _this.state.student_name; // data.fields.class_id_link = [\"rec8zHmPXU3k3uGhx\",\n      // \"recbeKNQoG8h5jIwJ\"];\n      //data.fields.class_id_link = [this.state.class_id,];\n\n      data.fields.class_id_link = _this.state.class_id;\n      data.fields.student_id = _this.state.student_id;\n      data.fields.student_grade = _this.state.student_grade;\n      data.fields.student_phone = _this.state.student_phone;\n      data.fields.student_birth = _this.state.student_birth;\n      data.fields.student_school = _this.state.student_school;\n      data.fields.student_email = _this.state.student_email;\n      data.fields.student_parent = _this.state.student_parent;\n      data.fields.student_parent_phone = _this.state.student_parent_phone;\n      data.fields.student_address = _this.state.student_address;\n      data.fields.student_img = [{\n        \"url\": _this.state.imgUrl\n      }]; //account data\n\n      accountData.fields.account_id = _this.state.student_email;\n      accountData.fields.account_passwd = '123';\n      accountData.fields.account_role = 'student';\n\n      if (_this.state.student_name !== '' && _this.state.student_id !== '') {\n        fetchPostStudent(data);\n        fetchPostAccount(accountData); // let memberData = { fields: { class_id: {}, student_id: {} } };\n        // var count = this.state.class_id.length;\n        // for (var index = 0; index < count; index++) {\n        //     console.log(this.state.class_id[index]);\n        //     memberData.fields.student_id = this.state.student_id;\n        //     memberData.fields.class_id = this.state.class_id[index];\n        // }\n        // fetchPostClassMember(memberData);\n      } else {\n        if (_this.state.student_name === '') {\n          _this.setState({\n            error1: true,\n            errorMessage1: '*此欄位必填'\n          });\n        } else if (_this.state.student_id === '') {\n          _this.setState({\n            error2: true,\n            errorMessage2: '*此欄位必填'\n          });\n        }\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      _this.setState({\n        error1: false,\n        error2: false,\n        errorMessage1: '',\n        errorMessage2: ''\n      });\n    };\n\n    _this.handleClick = function () {\n      axios.create({\n        baseURL: IP,\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).get(\"/retrieveface\").then(function (response) {\n        console.log(\"in response\");\n        console.log('open :', response.status, '\\nopen camera', new Date());\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    _this.handleUpload = function (e) {\n      e.preventDefault(); ////\n\n      var file = e.target.files[0];\n      var formimg = new FormData();\n      var id = '4a951eb39b49f41'; // 填入 App 的 Client ID\n\n      formimg.append('image', file); //required\n\n      formimg.append('title', 'test'); //optional\n\n      formimg.append('description', 'test'); //optional\n\n      axios({\n        method: 'POST',\n        url: 'https://api.imgur.com/3/image',\n        data: formimg,\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'authorization': 'Client-ID ' + id\n        },\n        mimeType: 'multipart/form-data'\n      }).then(function (res) {\n        console.log(res); //console.log(res.data.data.link);\n\n        _this.setState({\n          imgUrl: res.data.data.link\n        });\n      }).catch(function (e) {\n        console.log(e);\n      }); ////\n\n      var formdata = new FormData();\n      formdata.append('file', file);\n      formdata.set('faceid', _this.state.student_id);\n      axios({\n        method: 'post',\n        url: 'http://localhost:8080/train',\n        data: formdata,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        console.log(\"in upload\");\n\n        _this.setState({\n          openSnack: true\n        });\n      }).catch(function (error) {\n        return console.error(error);\n      });\n      axios.create({\n        baseURL: IP,\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).get(\"/terminate\").then(function (response) {\n        console.log(\"in terminate\");\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    _this.handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleCloseRefresh = function () {\n      _this.setState({\n        open: false\n      });\n\n      sleep(500).then(function () {\n        window.location.reload();\n      });\n    };\n\n    _this.state = {\n      class_id: [],\n      stu_img: noTrain,\n      student_name: '',\n      student_id: '',\n      student_grade: '',\n      student_phone: '',\n      student_birth: '1998-07-13',\n      student_school: '',\n      student_email: '',\n      student_parent: '',\n      student_parent_phone: '',\n      student_address: '',\n      error1: false,\n      error2: false,\n      errorMessage1: '',\n      errorMessage2: '',\n      imgUrl: noTrain,\n      open: false,\n      openSnack: false,\n      classDaydata: []\n    };\n    return _this;\n  } //for compare classDay id with class_id\n\n\n  _createClass(OutlinedTextFields, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //classDay table\n      tableClass.select({\n        view: \"Grid view\"\n      }).eachPage(function (records, fetchNextPage) {\n        _this2.setState({\n          records: records\n        });\n\n        var class_id = _this2.state.records.map(function (record, index) {\n          return record.fields['class_id'];\n        });\n\n        var record_id = _this2.state.records.map(function (record, index) {\n          return record.id.id;\n        });\n\n        var temp = [];\n\n        for (var index = 0; index < class_id.length; index++) {\n          temp.push(createData(record_id[index], class_id[index]));\n        }\n\n        _this2.setState({\n          classDaydata: temp\n        });\n\n        fetchNextPage();\n      });\n    } //https://medium.com/@ruthmpardee/passing-data-between-react-components-103ad82ebd17\n\n  }, {\n    key: \"render\",\n    // componentDidUpdate() {\n    //     console.log(this.state);\n    // };\n    value: function render() {\n      var _this$state = this.state,\n          error1 = _this$state.error1,\n          error2 = _this$state.error2,\n          errorMessage1 = _this$state.errorMessage1,\n          errorMessage2 = _this$state.errorMessage2;\n      var classes = this.props.classes;\n      return React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: classes.photo,\n        src: this.state.imgUrl,\n        alt: \"location\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: classes.button,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Open Camera\", React.createElement(CameraIcon, {\n        className: classes.rightIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.train,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        ref: \"file\",\n        id: \"contained-button-file\",\n        onChange: this.handleUpload,\n        className: classes.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"contained-button-file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(Button, {\n        component: \"span\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"Train\"))), React.createElement(Snackbar, {\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'center'\n        },\n        open: this.state.openSnack,\n        autoHideDuration: 2000 // message=\"訓練成功！\"\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(SnackbarContent, {\n        className: classes.snack,\n        variant: \"warning\",\n        message: \"\\u8A13\\u7DF4\\u6210\\u529F\\uFF01\",\n        autoHideDuration: 2000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-helperText\",\n        label: \"\\u59D3\\u540D\",\n        value: this.state.name,\n        error: error1,\n        helperText: errorMessage1,\n        onClick: this.handleFocus,\n        onChange: this.handleChange('student_name'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-helperText\",\n        label: \"\\u5B78\\u865F\",\n        value: this.state.number,\n        error: error2,\n        helperText: errorMessage2,\n        onClick: this.handleFocus,\n        onChange: this.handleChange('student_id'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u5E74\\u7D1A\",\n        value: this.state.grade,\n        onChange: this.handleChange('student_grade'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"date\",\n        label: \"\\u751F\\u65E5\",\n        type: \"date\",\n        value: this.state.student_birth,\n        onChange: this.handleChange('student_birth'),\n        className: classes.textFieldRight,\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(Myclass, {\n        callbackFromParent: this.myCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u5B78\\u6821\",\n        value: this.state.school,\n        onChange: this.handleChange('student_school'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u624B\\u6A5F\",\n        value: this.state.phone,\n        onChange: this.handleChange('student_phone'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-email-input\",\n        label: \"Email\",\n        value: this.state.email,\n        onChange: this.handleChange('student_email'),\n        className: classes.textFieldFull,\n        type: \"email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u4F4F\\u5740\",\n        value: this.state.address,\n        onChange: this.handleChange('student_address'),\n        className: classes.textFieldFull,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u806F\\u7D61\\u4EBA\",\n        value: this.state.parent,\n        onChange: this.handleChange('student_parent'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u806F\\u7D61\\u4EBA\\u624B\\u6A5F\",\n        value: this.state.parentPhone,\n        onChange: this.handleChange('student_parent_phone'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        type: \"submit\",\n        className: classes.button,\n        onClick: this.handleClickOpen,\n        style: {\n          width: 300,\n          margin: '20px auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, \"\\u9001\\u51FA\"), React.createElement(Dialog, {\n        className: classes.root,\n        open: this.state.open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, \"\\u5DF2\\u9001\\u51FA\\uFF01\"), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          margin: 'auto'\n        },\n        onClick: this.handleCloseRefresh,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, \"\\u78BA\\u5B9A\"))));\n    }\n  }]);\n\n  return OutlinedTextFields;\n}(React.Component);\n\nOutlinedTextFields.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(OutlinedTextFields);","map":{"version":3,"sources":["C:\\Users\\耍廢社\\Desktop\\MyProject\\src\\components\\Apply\\ApplyForm.js"],"names":["React","PropTypes","withStyles","TextField","Myclass","Snackbar","SnackbarContent","Button","Dialog","DialogActions","DialogTitle","CameraIcon","noTrain","fetchPostStudent","fetchPostAccount","axios","Airtable","base","apiKey","tableClass","sleep","time","Promise","resolve","setTimeout","createData","id","class_name","IP","styles","theme","root","margin","width","container","color","photo","height","marginLeft","marginTop","spacing","unit","input","outline","opacity","train","button","display","border","borderRadius","rightIcon","textFieldLeft","textFieldRight","textFieldFull","form","snack","backgroundColor","OutlinedTextFields","props","myCallback","dataFromChild","console","log","temp","i","length","index","state","classDaydata","push","setState","class_id","handleChange","name","event","target","value","handleSubmit","e","preventDefault","data","fields","student_name","class_id_link","student_id","student_grade","student_phone","student_birth","student_school","student_email","student_parent","student_parent_phone","student_address","student_img","accountData","account_id","account_passwd","account_role","imgUrl","error1","errorMessage1","error2","errorMessage2","handleFocus","handleClick","create","baseURL","headers","get","then","response","status","Date","catch","error","handleUpload","file","files","formimg","FormData","append","method","url","mimeType","res","link","formdata","set","config","openSnack","handleClickOpen","open","handleClose","handleCloseRefresh","window","location","reload","stu_img","select","view","eachPage","records","fetchNextPage","map","record","record_id","classes","vertical","horizontal","number","grade","shrink","school","phone","email","address","parent","parentPhone","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Myclass from './ApplyFormClass';\r\nimport { Snackbar, SnackbarContent, Button } from '@material-ui/core';\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\r\nimport noTrain from './noTrain.jpg';\r\nimport { fetchPostStudent, fetchPostAccount } from '../../api';\r\nimport axios from 'axios';\r\nimport Airtable from 'airtable';\r\n\r\nconst base = new Airtable({ apiKey: 'keyA7EKdngjou4Dgy' }).base('appcXtOTPnE4QWIIt');\r\nconst tableClass = base('ClassDay');\r\n\r\nfunction sleep (time) {\r\n    return new Promise((resolve) => setTimeout(resolve, time));\r\n}\r\n\r\n\r\nfunction createData(id, class_name) {\r\n    return { id, class_name };\r\n}\r\n\r\nconst IP = \"http://localhost:8080\";\r\n\r\nconst styles = theme => ({\r\n    root:{\r\n        margin:'auto',\r\n        width:'40%',\r\n    },\r\n    container: {\r\n        color: 'white',\r\n    },\r\n    photo: {\r\n        width: '200px',\r\n        height: '200px',\r\n        marginLeft: '38%',\r\n        marginTop: theme.spacing.unit * 10,\r\n    },\r\n    input: {\r\n        outline: 'none',\r\n        opacity: 0,\r\n        width:'47%',\r\n    },\r\n    train:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    button: {\r\n        display: 'flex',\r\n        border: '1px #FFBF5F solid',\r\n        borderRadius: '30px',\r\n        color: '#FFBF5F',\r\n        margin: 'auto',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n    textFieldLeft: {\r\n        marginLeft: '14%',\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '260px',\r\n    },\r\n    textFieldRight: {\r\n        marginLeft: theme.spacing.unit * 6,\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '260px',\r\n    },\r\n    textFieldFull: {\r\n        marginLeft: '14%',\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '570px',\r\n    },\r\n    form: {\r\n        width: '800px',\r\n        margin: 'auto',\r\n    },\r\n    snack:{\r\n        backgroundColor:'#FFBF5F',\r\n        color:'white',\r\n    }\r\n});\r\n\r\nclass OutlinedTextFields extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            class_id: [],\r\n            stu_img: noTrain,\r\n            student_name: '',\r\n            student_id: '',\r\n            student_grade: '',\r\n            student_phone: '',\r\n            student_birth: '1998-07-13',\r\n            student_school: '',\r\n            student_email: '',\r\n            student_parent: '',\r\n            student_parent_phone: '',\r\n            student_address: '',\r\n            error1: false,\r\n            error2: false,\r\n            errorMessage1: '',\r\n            errorMessage2: '',\r\n            imgUrl:noTrain,\r\n            open: false,\r\n            openSnack: false,\r\n            classDaydata:[],\r\n        };\r\n    }\r\n\r\n    //for compare classDay id with class_id\r\n    componentDidMount() {\r\n        //classDay table\r\n        tableClass.select({\r\n            view: \"Grid view\",\r\n        }).eachPage((records, fetchNextPage) => {\r\n            this.setState({ records });\r\n            const class_id = this.state.records.map((record, index) => record.fields['class_id']);\r\n            const record_id = this.state.records.map((record, index) => record.id.id);\r\n\r\n            var temp = [];\r\n            for (var index = 0; index < class_id.length; index++) {\r\n                temp.push(createData(record_id[index],class_id[index]));\r\n            }\r\n            this.setState({ classDaydata: temp });\r\n            fetchNextPage();\r\n        }\r\n        );\r\n    }\r\n\r\n    //https://medium.com/@ruthmpardee/passing-data-between-react-components-103ad82ebd17\r\n    myCallback = (dataFromChild) => {\r\n        //this.setState({ class_id: dataFromChild }); \r\n        console.log(dataFromChild)\r\n        var temp =[];\r\n        for(var i = 0; i < dataFromChild.length; i++){\r\n            for (var index = 0; index < this.state.classDaydata.length; index++) {\r\n                if(dataFromChild[i] == this.state.classDaydata[index].class_name){\r\n                    temp.push(this.state.classDaydata[index].id);\r\n                    this.setState({ class_id: temp });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = name => event => {\r\n        this.setState({\r\n            [name]: event.target.value\r\n        });\r\n        //console.log(this.state);\r\n    };\r\n    // _downloadTxtFile = () => {\r\n    //     var element = document.createElement(\"a\");\r\n    //     var inputValue = \"C:\\\\Face\\\\eGroupAI_FaceEngine_v3.1.0\\\\face\\\\JJ.jpg\t\"+document.getElementById('myInput').value+\"[No]0\"\r\n    //     var file = new Blob([inputValue], {type: 'text/plain'});\r\n    //     element.href = URL.createObjectURL(file);\r\n    //     element.download = \"list.txt\";\r\n    //     element.click();\r\n    //   }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let data = { fields: {student_name: {}, class_id_link:{}, student_id: {}, student_grade: {}, student_phone: {}, student_birth: {}, student_school: {}, student_email: {}, student_parent: {}, student_parent_phone: {}, student_address: {}, student_img:{} } };\r\n        \r\n        let accountData = {fields: {account_id: {}, account_passwd:{}, account_role:{} }};\r\n        data.fields.student_name = this.state.student_name;\r\n        // data.fields.class_id_link = [\"rec8zHmPXU3k3uGhx\",\r\n        // \"recbeKNQoG8h5jIwJ\"];\r\n        //data.fields.class_id_link = [this.state.class_id,];\r\n        data.fields.class_id_link = this.state.class_id;\r\n        data.fields.student_id = this.state.student_id;\r\n        data.fields.student_grade = this.state.student_grade;\r\n        data.fields.student_phone = this.state.student_phone;\r\n        data.fields.student_birth = this.state.student_birth;\r\n        data.fields.student_school = this.state.student_school;\r\n        data.fields.student_email = this.state.student_email;\r\n        data.fields.student_parent = this.state.student_parent;\r\n        data.fields.student_parent_phone = this.state.student_parent_phone;\r\n        data.fields.student_address = this.state.student_address;\r\n        data.fields.student_img = [{\"url\":this.state.imgUrl}];\r\n\r\n        //account data\r\n        accountData.fields.account_id = this.state.student_email;\r\n        accountData.fields.account_passwd = '123';\r\n        accountData.fields.account_role = 'student';\r\n\r\n        if (this.state.student_name !== '' && this.state.student_id !== '') {\r\n            fetchPostStudent(data);\r\n            fetchPostAccount(accountData);\r\n            // let memberData = { fields: { class_id: {}, student_id: {} } };\r\n            // var count = this.state.class_id.length;\r\n            // for (var index = 0; index < count; index++) {\r\n            //     console.log(this.state.class_id[index]);\r\n            //     memberData.fields.student_id = this.state.student_id;\r\n            //     memberData.fields.class_id = this.state.class_id[index];\r\n            // }\r\n            // fetchPostClassMember(memberData);\r\n        }\r\n        else {\r\n            if (this.state.student_name === '') {\r\n                this.setState({ error1: true, errorMessage1: '*此欄位必填' })\r\n            }\r\n            else if (this.state.student_id === '') {\r\n                this.setState({ error2: true, errorMessage2: '*此欄位必填' })\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    handleFocus = e => {\r\n        this.setState({\r\n            error1: false,\r\n            error2: false,\r\n            errorMessage1: '',\r\n            errorMessage2: '',\r\n        })\r\n    }\r\n\r\n    handleClick = () => {\r\n        axios.create({\r\n            baseURL: IP,\r\n            headers: { 'content-type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n        }).get(\"/retrieveface\")\r\n            .then((response) => {\r\n                console.log(\"in response\");\r\n                console.log('open :', response.status, '\\nopen camera', new Date());\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n    };\r\n\r\n    handleUpload = (e) => {\r\n        e.preventDefault();\r\n        ////\r\n        let file = e.target.files[0];\r\n        const formimg = new FormData();\r\n        const id = '4a951eb39b49f41'; // 填入 App 的 Client ID\r\n        formimg.append('image', file); //required\r\n        formimg.append('title', 'test'); //optional\r\n        formimg.append('description', 'test'); //optional\r\n\r\n        axios({\r\n            method: 'POST',\r\n            url: 'https://api.imgur.com/3/image',\r\n            data: formimg,\r\n            headers: { 'Content-Type': 'multipart/form-data' , 'authorization': 'Client-ID ' + id },\r\n            mimeType: 'multipart/form-data'\r\n            }).then(res => {\r\n                console.log(res);\r\n                //console.log(res.data.data.link);\r\n                this.setState({imgUrl : res.data.data.link});\r\n            }).catch(e => {\r\n                console.log(e)\r\n            })\r\n        ////\r\n        const formdata = new FormData();\r\n        formdata.append('file', file);\r\n        formdata.set('faceid', this.state.student_id);\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/train',\r\n            data: formdata,\r\n            config: { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        })\r\n            .then((response) => {\r\n                console.log(\"in upload\")\r\n                this.setState({ openSnack: true });\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n\r\n            axios.create({\r\n                baseURL: IP,\r\n                headers: { 'content-type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n              }).get(\"/terminate\")\r\n              .then((response) => {\r\n                console.log(\"in terminate\");\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n\r\n    };\r\n\r\n    handleClickOpen = () =>{\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleCloseRefresh = () => {\r\n        this.setState({ open: false });\r\n        sleep(500).then(() => {\r\n            window.location.reload();\r\n        })\r\n    };\r\n\r\n    // componentDidUpdate() {\r\n    //     console.log(this.state);\r\n    // };\r\n\r\n\r\n    render() {\r\n        const { error1, error2, errorMessage1, errorMessage2 } = this.state\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <form onSubmit={this.handleSubmit} className={classes.container} noValidate autoComplete=\"off\">\r\n                <div style={{width:'100%'}}> \r\n                <img className={classes.photo} src={this.state.imgUrl} alt=\"location\" />\r\n                    <Button className={classes.button} onClick={this.handleClick}>\r\n                        Open Camera\r\n                    <CameraIcon className={classes.rightIcon} />\r\n                    </Button>\r\n                    <div className={classes.train}>\r\n                    <input type=\"file\" name=\"file\" ref=\"file\"  id=\"contained-button-file\" onChange={this.handleUpload} className={classes.input}/>\r\n                    <label htmlFor=\"contained-button-file\">\r\n                        <Button component=\"span\"  className={classes.button}>\r\n                            Train\r\n                        </Button>\r\n                    </label>\r\n                    </div>\r\n                    <Snackbar\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                            }}\r\n                            open={this.state.openSnack}\r\n                            autoHideDuration={2000}\r\n                            // message=\"訓練成功！\"\r\n                            >\r\n                            <SnackbarContent\r\n                            className={classes.snack}\r\n                                variant=\"warning\"\r\n                                message=\"訓練成功！\"\r\n                                autoHideDuration={2000}\r\n                            />\r\n                        </Snackbar>\r\n                </div>\r\n                <div className={classes.form}>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-helperText\"\r\n                            label=\"姓名\"\r\n                            value={this.state.name}\r\n                            error={error1}\r\n                            helperText={errorMessage1}\r\n                            onClick={this.handleFocus}\r\n                            onChange={this.handleChange('student_name')}\r\n                            className={classes.textFieldLeft}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                        <TextField\r\n                            id=\"outlined-helperText\"\r\n                            label=\"學號\"\r\n                            value={this.state.number}\r\n                            error={error2}\r\n                            helperText={errorMessage2}\r\n                            onClick={this.handleFocus}\r\n                            onChange={this.handleChange('student_id')}\r\n                            className={classes.textFieldRight}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"年級\"\r\n                            value={this.state.grade}\r\n                            onChange={this.handleChange('student_grade')}\r\n                            className={classes.textFieldLeft}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                        <TextField\r\n                            id=\"date\"\r\n                            label=\"生日\"\r\n                            type=\"date\"\r\n                            value={this.state.student_birth}\r\n                            onChange={this.handleChange('student_birth')}\r\n                            className={classes.textFieldRight}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <Myclass callbackFromParent={this.myCallback} />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"學校\"\r\n                            value={this.state.school}\r\n                            onChange={this.handleChange('student_school')}\r\n                            className={classes.textFieldLeft}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"手機\"\r\n                            value={this.state.phone}\r\n                            onChange={this.handleChange('student_phone')}\r\n                            className={classes.textFieldRight}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-email-input\"\r\n                            label=\"Email\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleChange('student_email')}\r\n                            className={classes.textFieldFull}\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"住址\"\r\n                            value={this.state.address}\r\n                            onChange={this.handleChange('student_address')}\r\n                            className={classes.textFieldFull}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"聯絡人\"\r\n                            value={this.state.parent}\r\n                            onChange={this.handleChange('student_parent')}\r\n                            className={classes.textFieldLeft}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                        <TextField\r\n                            id=\"outlined-name\"\r\n                            label=\"聯絡人手機\"\r\n                            value={this.state.parentPhone}\r\n                            onChange={this.handleChange('student_parent_phone')}\r\n                            className={classes.textFieldRight}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <Button type=\"submit\" className={classes.button} onClick={this.handleClickOpen} style={{ width: 300, margin: '20px auto', }}>\r\n                    送出\r\n                </Button>\r\n                <Dialog className={classes.root}\r\n                    open={this.state.open}\r\n                    onClose={this.handleClose}\r\n                >\r\n                    <DialogTitle >已送出！</DialogTitle>\r\n                    <DialogActions>\r\n                        <Button style={{margin:'auto'}} onClick={this.handleCloseRefresh} color=\"primary\">確定</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n                {/* <div>\r\n                    <input id=\"myInput\" />\r\n                    <button onClick={this._downloadTxtFile}>Download txt</button>\r\n                </div> */}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nOutlinedTextFields.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nexport default withStyles(styles)(OutlinedTextFields);\r\n"]},"metadata":{},"sourceType":"module"}