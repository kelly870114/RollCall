{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\src\\\\components\\\\Student\\\\Student.js\";\nimport React from 'react';\nimport AppBar from '../AppBar/Appbar';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Card, Typography, Button } from '@material-ui/core';\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Airtable from 'airtable';\nimport amber from '@material-ui/core/colors/amber';\nimport axios from 'axios';\nvar TABLE_NAME = 'Student';\nvar SCORE_TABLE_NAME = 'TestScore';\nvar ATTEND_TABLE_NAME = 'Attend';\nvar base = new Airtable({\n  apiKey: 'keyA7EKdngjou4Dgy'\n}).base('appcXtOTPnE4QWIIt');\nvar table = base(TABLE_NAME);\nvar scoreTable = base(SCORE_TABLE_NAME);\nvar attendTable = base(ATTEND_TABLE_NAME);\nvar IP = \"http://localhost:8080\";\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      backgroundColor: '#212832',\n      border: '0.8px #FFBF5F solid',\n      borderRadius: '2px',\n      width: '70%',\n      marginTop: theme.spacing.unit * 3,\n      marginBottom: theme.spacing.unit * 10,\n      margin: '0 auto'\n    },\n    left: {\n      float: 'left',\n      width: '40%',\n      paddingLeft: theme.spacing.unit * 18\n    },\n    input: {\n      outline: 'none',\n      opacity: 0 // width:'47%',\n\n    },\n    leftText: {\n      fontSize: '16pt',\n      marginTop: theme.spacing.unit * 2\n    },\n    photo: {\n      width: '200px',\n      height: '200px',\n      marginTop: theme.spacing.unit * 10\n    },\n    button: {\n      border: '1px #FFBF5F solid',\n      borderRadius: '30px',\n      color: '#FFBF5F',\n      margin: 'auto',\n      marginLeft: theme.spacing.unit * 3\n    },\n    right: {\n      width: '50%',\n      float: 'right',\n      marginTop: theme.spacing.unit * 10,\n      marginBottom: theme.spacing.unit * 5,\n      marginLeft: theme.spacing.unit\n    },\n    rightText: {\n      fontSize: '16pt',\n      marginBottom: theme.spacing.unit * 2\n    },\n    snack1: {\n      backgroundColor: theme.palette.error.dark,\n      minWidth: \"200px\",\n      width: '200px',\n      height: '40px',\n      borderRadius: '50px',\n      marginTop: theme.spacing.unit\n    },\n    snack2: {\n      backgroundColor: amber[700],\n      minWidth: \"200px\",\n      width: '200px',\n      height: '40px',\n      borderRadius: '50px',\n      marginTop: theme.spacing.unit\n    },\n    icon1: {\n      backgroundColor: theme.palette.error.dark,\n      fontSize: 20,\n      color: 'white',\n      opacity: 0.9,\n      marginRight: theme.spacing.unit\n    },\n    icon2: {\n      backgroundColor: amber[700],\n      fontSize: 20,\n      color: 'white',\n      opacity: 0.9,\n      marginRight: theme.spacing.unit\n    },\n    message: {\n      color: 'white'\n    }\n  };\n};\n\nvar Student =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Student, _React$Component);\n\n  function Student() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Student);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Student)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      stu_id: '',\n      stu_name: '',\n      stu_img: '',\n      stu_school: '',\n      stu_grade: '',\n      stu_address: '',\n      stu_birth: '',\n      stu_phone: '',\n      stu_email: '',\n      stu_parent: '',\n      stu_parent_phone: '',\n      fail: true,\n      homework: true\n    };\n\n    _this.handlestart = function () {\n      axios.create({\n        baseURL: IP,\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).get(\"/retrieveface\").then(function (response) {\n        console.log(\"in response\");\n        console.log('open :', response.status, '\\nopen camera', new Date());\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    _this.handleUpload = function (e) {\n      e.preventDefault(); ////\n\n      var file = e.target.files[0];\n      var formdata = new FormData();\n      formdata.append('file', file);\n      formdata.set('faceid', _this.state.stu_id);\n      axios({\n        method: 'post',\n        url: 'http://localhost:8080/train',\n        data: formdata,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        console.log(\"in upload\");\n      }).catch(function (error) {\n        return console.error(error);\n      });\n      axios.create({\n        baseURL: IP,\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).get(\"/terminate\").then(function (response) {\n        console.log(\"in terminate\");\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Student, [{\n    key: \"componentDidMount\",\n    //airtable\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var fileterSentence = 'AND(student_id = ' + this.props.location.aboutProps.name + ')';\n      table.select({\n        filterByFormula: fileterSentence,\n        view: \"Grid view\",\n        maxRecords: 1\n      }).eachPage(function (records, fetchNextPage) {\n        _this2.setState({\n          records: records\n        });\n\n        var student_name = _this2.state.records.map(function (record, index) {\n          return record.fields['student_name'];\n        });\n\n        var student_id = _this2.state.records.map(function (record, index) {\n          return record.fields['student_id'];\n        });\n\n        var student_school = _this2.state.records.map(function (record, index) {\n          return record.fields['student_school'];\n        });\n\n        var student_grade = _this2.state.records.map(function (record, index) {\n          return record.fields['student_grade'];\n        });\n\n        var student_birth = _this2.state.records.map(function (record, index) {\n          return record.fields['student_birth'];\n        });\n\n        var student_phone = _this2.state.records.map(function (record, index) {\n          return record.fields['student_phone'];\n        });\n\n        var student_email = _this2.state.records.map(function (record, index) {\n          return record.fields['student_email'];\n        });\n\n        var student_address = _this2.state.records.map(function (record, index) {\n          return record.fields['student_address'];\n        });\n\n        var student_parent = _this2.state.records.map(function (record, index) {\n          return record.fields['student_parent'];\n        });\n\n        var student_parent_phone = _this2.state.records.map(function (record, index) {\n          return record.fields['student_parent_phone'];\n        });\n\n        var student_img = _this2.state.records.map(function (record, index) {\n          return record.fields['student_img'][0].url;\n        });\n\n        _this2.setState({\n          stu_id: student_id,\n          stu_name: student_name,\n          stu_img: student_img,\n          stu_school: student_school,\n          stu_grade: student_grade,\n          stu_birth: student_birth,\n          stu_address: student_address,\n          stu_email: student_email,\n          stu_phone: student_phone,\n          stu_parent: student_parent,\n          stu_parent_phone: student_parent_phone\n        });\n\n        fetchNextPage();\n      });\n      scoreTable.select({\n        filterByFormula: fileterSentence,\n        view: \"Grid view\"\n      }).eachPage(function (records, fetchNextPage) {\n        _this2.setState({\n          records: records\n        });\n\n        var test_score = _this2.state.records.map(function (record, index) {\n          return record.fields['test_score'];\n        });\n\n        for (var index = 0; index < test_score.length; index++) {\n          if (test_score[index] < 60) {\n            _this2.setState({\n              fail: false\n            });\n          }\n        } // fetchNextPage();\n\n      });\n      attendTable.select({\n        filterByFormula: fileterSentence,\n        view: \"Grid view\"\n      }).eachPage(function (records, fetchNextPage) {\n        _this2.setState({\n          records: records\n        });\n\n        var attend_hw = _this2.state.records.map(function (record, index) {\n          return record.fields['attend_hw'];\n        });\n\n        for (var index = 0; index < attend_hw.length; index++) {\n          console.log(attend_hw[index]);\n\n          if (attend_hw[index] != true) {\n            _this2.setState({\n              homework: false\n            });\n          }\n        } // fetchNextPage();\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes; //console.log(this.props.location.aboutProps);\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.left,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: classes.photo,\n        src: this.state.stu_img,\n        alt: \"location\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        className: classes.leftText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"\\u5B78\\u865F\\uFF1A\", this.state.stu_id), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        ref: \"file\",\n        id: \"contained-button-file\",\n        onChange: this.handleUpload,\n        className: classes.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: classes.button,\n        onClick: this.handlestart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(CameraIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"contained-button-file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Button, {\n        component: \"span\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"Train\")), React.createElement(SnackbarContent, {\n        hidden: this.state.fail,\n        className: classes.snack1,\n        variant: \"error\",\n        message: React.createElement(\"span\", {\n          id: \"client-snackbar\",\n          className: classes.message,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(WarningIcon, {\n          className: classes.icon1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }), \"\\u6210\\u7E3E\\u9810\\u8B66\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), React.createElement(SnackbarContent, {\n        className: classes.snack2,\n        variant: \"warning\",\n        message: React.createElement(\"span\", {\n          id: \"client-snackbar\",\n          className: classes.message,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(WarningIcon, {\n          className: classes.icon2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }), \"\\u7F3A\\u5E2D\\u8B66\\u544A\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }), React.createElement(SnackbarContent, {\n        hidden: this.state.homework,\n        className: classes.snack2,\n        variant: \"warning\",\n        message: React.createElement(\"span\", {\n          id: \"client-snackbar\",\n          className: classes.message,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(WarningIcon, {\n          className: classes.icon2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }), \"\\u7F3A\\u4EA4\\u4F5C\\u696D\\u63D0\\u9192\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.right,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"\\u59D3\\u540D\\uFF1A\", this.state.stu_name), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"\\u5E74\\u7D1A\\uFF1A\", this.state.stu_grade), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"\\u73ED\\u5225\\uFF1A\\u82F1\\u6587\\uFF21\\u73ED\\u3001\\u6578\\u5B78\\uFF23\\u73ED\"), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, \"\\u751F\\u65E5\\uFF1A\", this.state.stu_birth), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"\\u624B\\u6A5F\\uFF1A\", this.state.stu_phone), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"\\u5B78\\u6821\\uFF1A\", this.state.stu_school), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Email\\uFF1A\", this.state.stu_email), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \"\\u4F4F\\u5740\\uFF1A\", this.state.stu_address), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"\\u806F\\u7D61\\u4EBA\\uFF1A\", this.state.stu_parent), React.createElement(Typography, {\n        className: classes.rightText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"\\u806F\\u7D61\\u4EBA\\u96FB\\u8A71\\uFF1A\", this.state.stu_parent_phone))))));\n    }\n  }]);\n\n  return Student;\n}(React.Component);\n\nexport default withStyles(styles)(Student);","map":{"version":3,"sources":["C:\\Users\\耍廢社\\Desktop\\MyProject\\src\\components\\Student\\Student.js"],"names":["React","AppBar","withStyles","Card","Typography","Button","CameraIcon","WarningIcon","SnackbarContent","Airtable","amber","axios","TABLE_NAME","SCORE_TABLE_NAME","ATTEND_TABLE_NAME","base","apiKey","table","scoreTable","attendTable","IP","styles","theme","card","backgroundColor","border","borderRadius","width","marginTop","spacing","unit","marginBottom","margin","left","float","paddingLeft","input","outline","opacity","leftText","fontSize","photo","height","button","color","marginLeft","right","rightText","snack1","palette","error","dark","minWidth","snack2","icon1","marginRight","icon2","message","Student","state","stu_id","stu_name","stu_img","stu_school","stu_grade","stu_address","stu_birth","stu_phone","stu_email","stu_parent","stu_parent_phone","fail","homework","handlestart","create","baseURL","headers","get","then","response","console","log","status","Date","catch","handleUpload","e","preventDefault","file","target","files","formdata","FormData","append","set","method","url","data","config","fileterSentence","props","location","aboutProps","name","select","filterByFormula","view","maxRecords","eachPage","records","fetchNextPage","setState","student_name","map","record","index","fields","student_id","student_school","student_grade","student_birth","student_phone","student_email","student_address","student_parent","student_parent_phone","student_img","test_score","length","attend_hw","classes","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AppBar from '../AppBar/Appbar'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Card, Typography, Button } from '@material-ui/core';\r\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport Airtable from 'airtable';\r\nimport amber from '@material-ui/core/colors/amber';\r\nimport axios from 'axios';\r\n\r\nconst TABLE_NAME = 'Student';\r\nconst SCORE_TABLE_NAME = 'TestScore';\r\nconst ATTEND_TABLE_NAME = 'Attend';\r\nconst base = new Airtable({ apiKey: 'keyA7EKdngjou4Dgy' }).base('appcXtOTPnE4QWIIt');\r\nconst table = base(TABLE_NAME);\r\nconst scoreTable = base(SCORE_TABLE_NAME);\r\nconst attendTable = base(ATTEND_TABLE_NAME);\r\nconst IP = \"http://localhost:8080\";\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n    card: {\r\n        backgroundColor: '#212832',\r\n        border: '0.8px #FFBF5F solid',\r\n        borderRadius: '2px',\r\n        width: '70%',\r\n        marginTop: theme.spacing.unit * 3,\r\n        marginBottom: theme.spacing.unit * 10,\r\n        margin: '0 auto',\r\n    },\r\n    left: {\r\n        float: 'left',\r\n        width: '40%',\r\n        paddingLeft: theme.spacing.unit * 18,\r\n    },\r\n    input: {\r\n        outline: 'none',\r\n        opacity: 0,\r\n        // width:'47%',\r\n    },\r\n    leftText: {\r\n        fontSize: '16pt',\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    photo: {\r\n        width: '200px',\r\n        height: '200px',\r\n        marginTop: theme.spacing.unit * 10,\r\n    },\r\n    button: {\r\n        border: '1px #FFBF5F solid',\r\n        borderRadius: '30px',\r\n        color: '#FFBF5F',\r\n        margin: 'auto',\r\n        marginLeft: theme.spacing.unit * 3,\r\n    },\r\n    right: {\r\n        width: '50%',\r\n        float: 'right',\r\n        marginTop: theme.spacing.unit * 10,\r\n        marginBottom: theme.spacing.unit * 5,\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n    rightText: {\r\n        fontSize: '16pt',\r\n        marginBottom: theme.spacing.unit * 2,\r\n    },\r\n    snack1: {\r\n        backgroundColor: theme.palette.error.dark,\r\n        minWidth: \"200px\",\r\n        width: '200px',\r\n        height: '40px',\r\n        borderRadius: '50px',\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    snack2: {\r\n        backgroundColor: amber[700],\r\n        minWidth: \"200px\",\r\n        width: '200px',\r\n        height: '40px',\r\n        borderRadius: '50px',\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    icon1: {\r\n        backgroundColor: theme.palette.error.dark,\r\n        fontSize: 20,\r\n        color: 'white',\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n    icon2: {\r\n        backgroundColor: amber[700],\r\n        fontSize: 20,\r\n        color: 'white',\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n    message: {\r\n        color: 'white',\r\n    },\r\n});\r\n\r\nclass Student extends React.Component {\r\n    state = {\r\n        stu_id: '',\r\n        stu_name: '',\r\n        stu_img: '',\r\n        stu_school: '',\r\n        stu_grade: '',\r\n        stu_address: '',\r\n        stu_birth: '',\r\n        stu_phone: '',\r\n        stu_email: '',\r\n        stu_parent: '',\r\n        stu_parent_phone: '',\r\n        fail: true,\r\n        homework: true,\r\n    };\r\n\r\n    //airtable\r\n    componentDidMount() {\r\n\r\n        const fileterSentence = 'AND(student_id = ' + this.props.location.aboutProps.name + ')'\r\n        table.select({\r\n            filterByFormula: fileterSentence,\r\n            view: \"Grid view\",\r\n            maxRecords: 1\r\n        }).eachPage((records, fetchNextPage) => {\r\n            this.setState({ records });\r\n\r\n            const student_name = this.state.records.map((record, index) => record.fields['student_name']);\r\n            const student_id = this.state.records.map((record, index) => record.fields['student_id']);\r\n            const student_school = this.state.records.map((record, index) => record.fields['student_school']);\r\n            const student_grade = this.state.records.map((record, index) => record.fields['student_grade']);\r\n            const student_birth = this.state.records.map((record, index) => record.fields['student_birth']);\r\n            const student_phone = this.state.records.map((record, index) => record.fields['student_phone']);\r\n            const student_email = this.state.records.map((record, index) => record.fields['student_email']);\r\n            const student_address = this.state.records.map((record, index) => record.fields['student_address']);\r\n            const student_parent = this.state.records.map((record, index) => record.fields['student_parent']);\r\n            const student_parent_phone = this.state.records.map((record, index) => record.fields['student_parent_phone']);\r\n            const student_img = this.state.records.map((record, index) => record.fields['student_img'][0].url);\r\n\r\n            this.setState({\r\n                stu_id: student_id, stu_name: student_name, stu_img: student_img\r\n                , stu_school: student_school, stu_grade: student_grade, stu_birth: student_birth, stu_address: student_address,\r\n                stu_email: student_email, stu_phone: student_phone, stu_parent: student_parent, stu_parent_phone: student_parent_phone\r\n            });\r\n            fetchNextPage();\r\n        }\r\n        );\r\n\r\n        scoreTable.select({\r\n            filterByFormula: fileterSentence,\r\n            view: \"Grid view\"\r\n        }).eachPage((records, fetchNextPage) => {\r\n            this.setState({ records });\r\n            const test_score = this.state.records.map((record, index) => record.fields['test_score']);\r\n\r\n            for (var index = 0; index < test_score.length; index++) {\r\n                if (test_score[index] < 60) {\r\n                    this.setState({ fail: false });\r\n                }\r\n            }\r\n            // fetchNextPage();\r\n        }\r\n        );\r\n        attendTable.select({\r\n            filterByFormula: fileterSentence,\r\n            view: \"Grid view\"\r\n        }).eachPage((records, fetchNextPage) => {\r\n            this.setState({ records });\r\n            const attend_hw = this.state.records.map((record, index) => record.fields['attend_hw']);\r\n\r\n            for (var index = 0; index < attend_hw.length; index++) {\r\n                console.log(attend_hw[index]);\r\n                if (attend_hw[index] != true) {\r\n                    this.setState({ homework: false });\r\n                }\r\n            }\r\n            // fetchNextPage();\r\n        }\r\n        );\r\n    }\r\n    handlestart = () => {\r\n        axios.create({\r\n            baseURL: IP,\r\n            headers: { 'content-type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n        }).get(\"/retrieveface\")\r\n            .then((response) => {\r\n                console.log(\"in response\");\r\n                console.log('open :', response.status, '\\nopen camera', new Date());\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n    };\r\n    handleUpload = (e) => {\r\n        e.preventDefault();\r\n        ////\r\n        let file = e.target.files[0];\r\n        const formdata = new FormData();\r\n        formdata.append('file', file);\r\n        formdata.set('faceid', this.state.stu_id);\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/train',\r\n            data: formdata,\r\n            config: { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        })\r\n            .then((response) => {\r\n                console.log(\"in upload\")\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n\r\n            axios.create({\r\n                baseURL: IP,\r\n                headers: { 'content-type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n              }).get(\"/terminate\")\r\n              .then((response) => {\r\n                console.log(\"in terminate\");\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n\r\n\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        //console.log(this.props.location.aboutProps);\r\n        return (\r\n            <div>\r\n                <AppBar />\r\n                <div>\r\n                    <Card className={classes.card} >\r\n                        <div className={classes.left}>\r\n                            <img className={classes.photo} src={this.state.stu_img} alt=\"location\" />\r\n                            <Typography className={classes.leftText}>\r\n                                學號：{this.state.stu_id}\r\n                            </Typography>\r\n                            <input type=\"file\" name=\"file\" ref=\"file\" id=\"contained-button-file\" onChange={this.handleUpload} className={classes.input} />\r\n                            <Button className={classes.button} onClick={this.handlestart}>\r\n                                <CameraIcon />\r\n                            </Button>\r\n                            <label htmlFor=\"contained-button-file\">\r\n                                <Button component=\"span\" className={classes.button}>\r\n                                    Train\r\n                        </Button>\r\n                            </label>\r\n\r\n                            {/* <input type=\"file\" name=\"file\" ref=\"file\"  id=\"contained-button-file\" onChange={this.handleUpload} className={classes.input}/>\r\n                            <Button className={classes.button}>\r\n                                Train\r\n                            </Button> */}\r\n                            <SnackbarContent\r\n                                hidden={this.state.fail}\r\n                                className={classes.snack1}\r\n                                variant=\"error\"\r\n                                message={\r\n                                    <span id=\"client-snackbar\" className={classes.message}>\r\n                                        <WarningIcon className={classes.icon1} />\r\n                                        成績預警\r\n                                    </span>\r\n                                }\r\n                            />\r\n                            <SnackbarContent\r\n                                className={classes.snack2}\r\n                                variant=\"warning\"\r\n                                message={\r\n                                    <span id=\"client-snackbar\" className={classes.message}>\r\n                                        <WarningIcon className={classes.icon2} />\r\n                                        缺席警告\r\n                                    </span>\r\n                                }\r\n\r\n                            />\r\n                            <SnackbarContent\r\n                                hidden={this.state.homework}\r\n                                className={classes.snack2}\r\n                                variant=\"warning\"\r\n                                message={\r\n                                    <span id=\"client-snackbar\" className={classes.message}>\r\n                                        <WarningIcon className={classes.icon2} />\r\n                                        缺交作業提醒\r\n                                    </span>\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div className={classes.right}>\r\n                            <div>\r\n                                <Typography className={classes.rightText}>\r\n                                    姓名：{this.state.stu_name}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    年級：{this.state.stu_grade}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    班別：英文Ａ班、數學Ｃ班\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    生日：{this.state.stu_birth}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    手機：{this.state.stu_phone}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    學校：{this.state.stu_school}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    Email：{this.state.stu_email}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    住址：{this.state.stu_address}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    聯絡人：{this.state.stu_parent}\r\n                                </Typography>\r\n                                <Typography className={classes.rightText}>\r\n                                    聯絡人電話：{this.state.stu_parent_phone}\r\n                                </Typography>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Student);"]},"metadata":{},"sourceType":"module"}