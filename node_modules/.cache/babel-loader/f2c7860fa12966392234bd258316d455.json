{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\src\\\\components\\\\Apply\\\\ApplyForm.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Myclass from './ApplyFormClass';\nimport { Card, Button } from '@material-ui/core';\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\nimport { fetchPostStudent, fetchPostClassMember } from '../../api';\nimport axios from 'axios';\nvar IP = \"http://localhost:8080\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      color: 'white'\n    },\n    textFieldLeft: {\n      marginLeft: theme.spacing.unit * 18,\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '260px'\n    },\n    textFieldRight: {\n      marginLeft: theme.spacing.unit * 6,\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '260px'\n    },\n    textFieldFull: {\n      marginLeft: theme.spacing.unit * 18,\n      marginTop: theme.spacing.unit * 2,\n      color: 'white',\n      width: '570px'\n    },\n    input: {\n      outline: 'none',\n      opacity: 0\n    },\n    button: {\n      display: 'flex',\n      border: '1px #FFBF5F solid',\n      borderRadius: '30px',\n      color: '#FFBF5F',\n      margin: 'auto'\n    },\n    rightIcon: {\n      marginLeft: theme.spacing.unit\n    }\n  };\n};\n\nvar OutlinedTextFields =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(OutlinedTextFields, _React$Component);\n\n  function OutlinedTextFields(props) {\n    var _this;\n\n    _classCallCheck(this, OutlinedTextFields);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(OutlinedTextFields).call(this, props));\n\n    _this.myCallback = function (dataFromChild) {\n      _this.setState({\n        class_id: dataFromChild\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value)); //console.log(this.state);\n\n      };\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault(); // changed here\n      //let data = {fields:{student_name:{},student_id:{},student_grade:{},student_phone:{},student_birth:{}}};\n\n      var data = {\n        fields: {\n          student_name: {},\n          student_id: {},\n          student_grade: {},\n          student_phone: {},\n          student_birth: {},\n          student_school: {},\n          student_email: {},\n          student_parent: {},\n          student_parent_phone: {},\n          student_address: {}\n        }\n      };\n      data.fields.student_name = _this.state.student_name;\n      data.fields.student_id = _this.state.student_id;\n      data.fields.student_grade = _this.state.student_grade;\n      data.fields.student_phone = _this.state.student_phone;\n      data.fields.student_birth = _this.state.student_birth;\n      data.fields.student_school = _this.state.student_school;\n      data.fields.student_email = _this.state.student_email;\n      data.fields.student_parent = _this.state.student_parent;\n      data.fields.student_parent_phone = _this.state.student_parent_phone;\n      data.fields.student_address = _this.state.student_address;\n      console.log(data);\n\n      if (_this.state.student_name !== '' && _this.state.student_id !== '') {\n        fetchPostStudent(data);\n        var memberData = {\n          fields: {\n            class_id: {},\n            student_id: {}\n          }\n        };\n        var count = _this.state.class_id.length;\n\n        for (var index = 0; index < count; index++) {\n          memberData.fields.student_id = _this.state.student_id;\n          memberData.fields.class_id = _this.state.class_id[index];\n        }\n\n        fetchPostClassMember(memberData);\n      } else {\n        if (_this.state.student_name === '') {\n          _this.setState({\n            error1: true,\n            errorMessage1: '*此欄位必填'\n          });\n        } else if (_this.state.student_id === '') {\n          _this.setState({\n            error2: true,\n            errorMessage2: '*此欄位必填'\n          });\n        }\n      }\n\n      var bodyFormData = new FormData();\n      bodyFormData.set('faceid', _this.state.student_id); //train\n      // axios({\n      //     method: 'post',\n      //     url: 'http://localhost:8080/train',\n      //     data:bodyFormData,\n      //     config: { headers: {'Content-Type': 'multipart/form-data' }}\n      //     })\n      //     .then(function (response) {\n      //         //handle success\n      //         console.log(\"in up\");\n      //         console.log(response);\n      //     })\n      //     .catch(function (response) {\n      //         //handle error\n      //         console.log(response);\n      //     });\n    };\n\n    _this.handleFocus = function (e) {\n      _this.setState({\n        error1: false,\n        error2: false,\n        errorMessage1: '',\n        errorMessage2: ''\n      });\n    };\n\n    _this.handleClick = function () {\n      axios.create({\n        baseURL: IP,\n        headers: {\n          'content-type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).get(\"/retrieveface\").then(function (response) {\n        console.log(\"in response\");\n        console.log('open :', response.status, '\\nopen camera', new Date());\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    _this.handleUpload = function (e) {\n      e.preventDefault();\n      var file = e.target.files[0];\n      var formdata = new FormData();\n      formdata.append('file', file);\n      formdata.set('faceid', _this.state.student_id);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = formdata.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var value = _step.value;\n          console.log(value);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      axios({\n        method: 'post',\n        url: 'http://localhost:8080/train',\n        data: formdata,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        console.log(\"in upload\");\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    };\n\n    _this.state = {\n      class_id: null,\n      student_name: '',\n      student_id: '',\n      student_grade: '',\n      student_phone: '',\n      student_birth: '1998-07-13',\n      student_school: '',\n      student_email: '',\n      student_parent: '',\n      student_parent_phone: '',\n      student_address: '',\n      error1: false,\n      error2: false,\n      errorMessage1: '',\n      errorMessage2: ''\n    };\n    return _this;\n  } //https://medium.com/@ruthmpardee/passing-data-between-react-components-103ad82ebd17\n\n\n  _createClass(OutlinedTextFields, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error1 = _this$state.error1,\n          error2 = _this$state.error2,\n          errorMessage1 = _this$state.errorMessage1,\n          errorMessage2 = _this$state.errorMessage2;\n      var classes = this.props.classes;\n      return React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          width: '200px',\n          height: '260px',\n          margin: '40px auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: classes.button,\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Open Camera\", React.createElement(CameraIcon, {\n        className: classes.rightIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"file\",\n        id: \"contained-button-file\",\n        onChange: this.handleUpload,\n        className: classes.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"contained-button-file\",\n        style: {\n          margin: '10px 0 0 7%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Button, {\n        component: \"span\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Train\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-helperText\",\n        label: \"\\u59D3\\u540D\",\n        value: this.state.name,\n        error: error1,\n        helperText: errorMessage1,\n        onClick: this.handleFocus,\n        onChange: this.handleChange('student_name'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-helperText\",\n        label: \"\\u5B78\\u865F\",\n        value: this.state.number,\n        error: error2,\n        helperText: errorMessage2,\n        onClick: this.handleFocus,\n        onChange: this.handleChange('student_id'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u5E74\\u7D1A\",\n        value: this.state.grade,\n        onChange: this.handleChange('student_grade'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"date\",\n        label: \"\\u751F\\u65E5\",\n        type: \"date\",\n        value: this.state.student_birth,\n        onChange: this.handleChange('student_birth'),\n        className: classes.textFieldRight,\n        InputLabelProps: {\n          shrink: true\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(Myclass, {\n        callbackFromParent: this.myCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u5B78\\u6821\",\n        value: this.state.school,\n        onChange: this.handleChange('student_school'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u624B\\u6A5F\",\n        value: this.state.phone,\n        onChange: this.handleChange('student_phone'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-email-input\",\n        label: \"Email\",\n        value: this.state.email,\n        onChange: this.handleChange('student_email'),\n        className: classes.textFieldFull,\n        type: \"email\",\n        name: \"email\",\n        autoComplete: \"email\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u4F4F\\u5740\",\n        value: this.state.address,\n        onChange: this.handleChange('student_address'),\n        className: classes.textFieldFull,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u806F\\u7D61\\u4EBA\",\n        value: this.state.parent,\n        onChange: this.handleChange('student_parent'),\n        className: classes.textFieldLeft,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"outlined-name\",\n        label: \"\\u806F\\u7D61\\u4EBA\\u624B\\u6A5F\",\n        value: this.state.parentPhone,\n        onChange: this.handleChange('student_parent_phone'),\n        className: classes.textFieldRight,\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        className: classes.button,\n        style: {\n          width: 300,\n          margin: '20px auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"\\u9001\\u51FA\"));\n    }\n  }]);\n\n  return OutlinedTextFields;\n}(React.Component);\n\nOutlinedTextFields.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(OutlinedTextFields);","map":{"version":3,"sources":["C:\\Users\\耍廢社\\Desktop\\MyProject\\src\\components\\Apply\\ApplyForm.js"],"names":["React","PropTypes","withStyles","TextField","Myclass","Card","Button","CameraIcon","fetchPostStudent","fetchPostClassMember","axios","IP","styles","theme","container","color","textFieldLeft","marginLeft","spacing","unit","marginTop","width","textFieldRight","textFieldFull","input","outline","opacity","button","display","border","borderRadius","margin","rightIcon","OutlinedTextFields","props","myCallback","dataFromChild","setState","class_id","handleChange","name","event","target","value","handleSubmit","e","preventDefault","data","fields","student_name","student_id","student_grade","student_phone","student_birth","student_school","student_email","student_parent","student_parent_phone","student_address","state","console","log","memberData","count","length","index","error1","errorMessage1","error2","errorMessage2","bodyFormData","FormData","set","handleFocus","handleClick","create","baseURL","headers","get","then","response","status","Date","catch","error","handleUpload","file","files","formdata","append","values","method","url","config","classes","height","number","grade","shrink","school","phone","email","address","parent","parentPhone","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Myclass from './ApplyFormClass';\r\nimport { Card, Button } from '@material-ui/core';\r\nimport CameraIcon from '@material-ui/icons/CameraAltRounded';\r\nimport { fetchPostStudent, fetchPostClassMember } from '../../api';\r\nimport axios from 'axios';\r\n\r\nconst IP = \"http://localhost:8080\";\r\n\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n    container: {\r\n        color: 'white',\r\n\r\n    },\r\n    textFieldLeft: {\r\n        marginLeft: theme.spacing.unit * 18,\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '260px',\r\n    },\r\n    textFieldRight: {\r\n        marginLeft: theme.spacing.unit * 6,\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '260px',\r\n    },\r\n    textFieldFull: {\r\n        marginLeft: theme.spacing.unit * 18,\r\n        marginTop: theme.spacing.unit * 2,\r\n        color: 'white',\r\n        width: '570px',\r\n    },\r\n    input:{\r\n        outline: 'none',\r\n        opacity: 0,\r\n    },\r\n    button: {\r\n        display: 'flex',\r\n        border: '1px #FFBF5F solid',\r\n        borderRadius: '30px',\r\n        color: '#FFBF5F',\r\n        margin: 'auto',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n});\r\n\r\nclass OutlinedTextFields extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            class_id: null,\r\n            student_name: '',\r\n            student_id: '',\r\n            student_grade: '',\r\n            student_phone: '',\r\n            student_birth: '1998-07-13',\r\n            student_school: '',\r\n            student_email: '',\r\n            student_parent: '',\r\n            student_parent_phone: '',\r\n            student_address: '',\r\n            error1: false,\r\n            error2: false,\r\n            errorMessage1: '',\r\n            errorMessage2: '',\r\n        };\r\n    }\r\n    //https://medium.com/@ruthmpardee/passing-data-between-react-components-103ad82ebd17\r\n    myCallback = (dataFromChild) => {\r\n        this.setState({ class_id: dataFromChild });\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({\r\n            [name]: event.target.value\r\n        });\r\n        //console.log(this.state);\r\n    };\r\n    // _downloadTxtFile = () => {\r\n    //     var element = document.createElement(\"a\");\r\n    //     var inputValue = \"C:\\\\Face\\\\eGroupAI_FaceEngine_v3.1.0\\\\face\\\\JJ.jpg\t\"+document.getElementById('myInput').value+\"[No]0\"\r\n    //     var file = new Blob([inputValue], {type: 'text/plain'});\r\n    //     element.href = URL.createObjectURL(file);\r\n    //     element.download = \"list.txt\";\r\n    //     element.click();\r\n    //   }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        // changed here\r\n        //let data = {fields:{student_name:{},student_id:{},student_grade:{},student_phone:{},student_birth:{}}};\r\n        let data = { fields: { student_name: {}, student_id: {}, student_grade: {}, student_phone: {}, student_birth: {}, student_school: {}, student_email: {}, student_parent: {}, student_parent_phone: {}, student_address: {} } };\r\n        data.fields.student_name = this.state.student_name;\r\n        data.fields.student_id = this.state.student_id;\r\n        data.fields.student_grade = this.state.student_grade;\r\n        data.fields.student_phone = this.state.student_phone;\r\n        data.fields.student_birth = this.state.student_birth;\r\n        data.fields.student_school = this.state.student_school;\r\n        data.fields.student_email = this.state.student_email;\r\n        data.fields.student_parent = this.state.student_parent;\r\n        data.fields.student_parent_phone = this.state.student_parent_phone;\r\n        data.fields.student_address = this.state.student_address;\r\n        console.log(data);\r\n        if (this.state.student_name !== '' && this.state.student_id !== '') {\r\n            fetchPostStudent(data);\r\n            let memberData = { fields: { class_id: {}, student_id: {} } };\r\n            var count = this.state.class_id.length;\r\n            for (var index = 0; index < count; index++) {\r\n                memberData.fields.student_id = this.state.student_id\r\n                memberData.fields.class_id = this.state.class_id[index]\r\n            }\r\n            fetchPostClassMember(memberData);\r\n        }\r\n        else {\r\n            if (this.state.student_name === '') {\r\n                this.setState({ error1: true, errorMessage1: '*此欄位必填' })\r\n            }\r\n            else if (this.state.student_id === '') {\r\n                this.setState({ error2: true, errorMessage2: '*此欄位必填' })\r\n            }\r\n        }\r\n\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.set('faceid', this.state.student_id);\r\n\r\n\r\n        //train\r\n\r\n        // axios({\r\n        //     method: 'post',\r\n        //     url: 'http://localhost:8080/train',\r\n        //     data:bodyFormData,\r\n        //     config: { headers: {'Content-Type': 'multipart/form-data' }}\r\n        //     })\r\n        //     .then(function (response) {\r\n        //         //handle success\r\n        //         console.log(\"in up\");\r\n        //         console.log(response);\r\n        //     })\r\n        //     .catch(function (response) {\r\n        //         //handle error\r\n        //         console.log(response);\r\n        //     });\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    handleFocus = e => {\r\n        this.setState({\r\n            error1: false,\r\n            error2: false,\r\n            errorMessage1: '',\r\n            errorMessage2: '',\r\n        })\r\n    }\r\n\r\n    handleClick = () => {\r\n        axios.create({\r\n            baseURL: IP,\r\n            headers: { 'content-type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n        }).get(\"/retrieveface\")\r\n            .then((response) => {\r\n                console.log(\"in response\");\r\n                console.log('open :', response.status, '\\nopen camera', new Date());\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n    };\r\n\r\n    handleUpload = (e) => {\r\n        e.preventDefault();\r\n\r\n        let file = e.target.files[0];\r\n        const formdata = new FormData();\r\n        formdata.append('file', file);\r\n        formdata.set('faceid', this.state.student_id);\r\n\r\n        for (var value of formdata.values()) {\r\n            console.log(value);\r\n        }\r\n\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/train',\r\n            data: formdata,\r\n            config: { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        })\r\n            .then((response) => {\r\n                console.log(\"in upload\")\r\n            })\r\n            .catch((error) =>\r\n                console.error(error)\r\n            );\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    componentDidUpdate() {\r\n\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n        const { error1, error2, errorMessage1, errorMessage2 } = this.state\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n\r\n            <form onSubmit={this.handleSubmit} className={classes.container} noValidate autoComplete=\"off\">\r\n                <div>\r\n                    <Card style={{ width: '200px', height: '260px', margin: '40px auto' }} />\r\n                    <Button className={classes.button} onClick={this.handleClick}>\r\n                        Open Camera\r\n                    <CameraIcon className={classes.rightIcon} />\r\n                    </Button>\r\n                    <input type=\"file\" id=\"contained-button-file\" onChange={this.handleUpload} className={classes.input} />\r\n                    <label htmlFor=\"contained-button-file\" style={{margin:'10px 0 0 7%'}}>\r\n                        <Button  component=\"span\" className={classes.button}>\r\n                            Train\r\n                        </Button>\r\n                    </label>\r\n                    {/* <Button className={classes.button}>\r\n                        Train\r\n                    </Button> */}\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-helperText\"\r\n                        label=\"姓名\"\r\n                        value={this.state.name}\r\n                        error={error1}\r\n                        helperText={errorMessage1}\r\n                        onClick={this.handleFocus}\r\n                        onChange={this.handleChange('student_name')}\r\n                        className={classes.textFieldLeft}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"outlined-helperText\"\r\n                        label=\"學號\"\r\n                        value={this.state.number}\r\n                        error={error2}\r\n                        helperText={errorMessage2}\r\n                        onClick={this.handleFocus}\r\n                        onChange={this.handleChange('student_id')}\r\n                        className={classes.textFieldRight}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"年級\"\r\n                        value={this.state.grade}\r\n                        onChange={this.handleChange('student_grade')}\r\n                        className={classes.textFieldLeft}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"生日\"\r\n                        type=\"date\"\r\n                        value={this.state.student_birth}\r\n                        onChange={this.handleChange('student_birth')}\r\n                        className={classes.textFieldRight}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <Myclass callbackFromParent={this.myCallback} />\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"學校\"\r\n                        value={this.state.school}\r\n                        onChange={this.handleChange('student_school')}\r\n                        className={classes.textFieldLeft}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"手機\"\r\n                        value={this.state.phone}\r\n                        onChange={this.handleChange('student_phone')}\r\n                        className={classes.textFieldRight}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-email-input\"\r\n                        label=\"Email\"\r\n                        value={this.state.email}\r\n                        onChange={this.handleChange('student_email')}\r\n                        className={classes.textFieldFull}\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"住址\"\r\n                        value={this.state.address}\r\n                        onChange={this.handleChange('student_address')}\r\n                        className={classes.textFieldFull}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"聯絡人\"\r\n                        value={this.state.parent}\r\n                        onChange={this.handleChange('student_parent')}\r\n                        className={classes.textFieldLeft}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"outlined-name\"\r\n                        label=\"聯絡人手機\"\r\n                        value={this.state.parentPhone}\r\n                        onChange={this.handleChange('student_parent_phone')}\r\n                        className={classes.textFieldRight}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                </div>\r\n                <Button type=\"submit\" className={classes.button} style={{ width: 300, margin: '20px auto', }}>\r\n                    送出\r\n                </Button>\r\n\r\n                {/* <div>\r\n                    <input id=\"myInput\" />\r\n                    <button onClick={this._downloadTxtFile}>Download txt</button>\r\n                </div> */}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nOutlinedTextFields.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(OutlinedTextFields);\r\n"]},"metadata":{},"sourceType":"module"}