{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u800D\\u5EE2\\u793E\\\\Desktop\\\\MyProject\\\\src\\\\components\\\\MakeupClass\\\\MakeupTable1.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Airtable from 'airtable';\nvar TABLE_NAME = 'ReserveStudent';\nvar base = new Airtable({\n  apiKey: 'keyA7EKdngjou4Dgy'\n}).base('appcXtOTPnE4QWIIt');\nvar table = base(TABLE_NAME);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3,\n      overflowX: 'auto',\n      backgroundColor: '#212832',\n      border: 'white 1px solid'\n    },\n    head: {\n      fontSize: '14pt',\n      color: '#FFBF5F'\n    }\n  };\n};\n\nvar id = 0;\n\nfunction createData(student, number, project) {\n  id += 1;\n  return {\n    id: id,\n    student: student,\n    number: number,\n    project: project\n  };\n} // const rows = [\n//     createData('王小明', 405401360 , '國文A班 02/13'),\n//     createData('孫小美', 405401360 , '國文A班 02/13'),\n//     createData('王小明', 405401360 , '國文A班 02/13'),\n//     createData('孫小美', 405401360 , '國文A班 02/13'),\n//     createData('王小明', 405401360 , '國文A班 02/13'),\n// ];\n\n\nvar SimpleTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SimpleTable, _React$Component);\n\n  function SimpleTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SimpleTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SimpleTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      rows: [] //airtable\n\n    };\n    return _this;\n  }\n\n  _createClass(SimpleTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      table.select({\n        filterByFormula: 'AND(reserve_time=\"8:30\")',\n        view: \"Grid view\"\n      }).eachPage(function (records, fetchNextPage) {\n        _this2.setState({\n          records: records\n        });\n\n        var student_id = _this2.state.records.map(function (record, index) {\n          return record.fields['student_id'];\n        });\n\n        var reserve_date = _this2.state.records.map(function (record, index) {\n          return record.fields['reserve_date'];\n        });\n\n        var reserve_address = _this2.state.records.map(function (record, index) {\n          return record.fields['reserve_address'];\n        }); //const reserve_time = this.state.records.map((record, index) => record.fields['reserve_time']);\n\n\n        var reserve_class = _this2.state.records.map(function (record, index) {\n          return record.fields['reserve_class'];\n        });\n\n        var temp = [];\n\n        for (var index = 0; index < student_id.length; index++) {\n          temp.push(createData(student_id[index], reserve_class[index], reserve_date[index]));\n        }\n\n        _this2.setState({\n          rows: temp\n        });\n\n        fetchNextPage();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(Paper, {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        className: classes.head,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"\\u5B78\\u865F\"), React.createElement(TableCell, {\n        className: classes.head,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"\\u88DC\\u8AB2\\u9805\\u76EE\"), React.createElement(TableCell, {\n        className: classes.head,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"\\u88DC\\u8AB2\\u65E5\\u671F\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.rows.map(function (row) {\n        return React.createElement(TableRow, {\n          key: row.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, row.student), React.createElement(TableCell, {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, row.number), React.createElement(TableCell, {\n          align: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, row.project));\n      }))));\n    }\n  }]);\n\n  return SimpleTable;\n}(React.Component); // function SimpleTable(props) {\n//     const { classes } = props;\n//     return (\n//         <Paper className={classes.root}>\n//             <Table className={classes.table}>\n//                 <TableHead>\n//                     <TableRow>\n//                         <TableCell className={classes.head}>姓名</TableCell>\n//                         <TableCell className={classes.head} align=\"center\">學號</TableCell>\n//                         <TableCell className={classes.head} align=\"center\">補課項目</TableCell>\n//                     </TableRow>\n//                 </TableHead>\n//                 <TableBody>\n//                     {rows.map(row => (\n//                         <TableRow key={row.id}>\n//                             <TableCell component=\"th\" scope=\"row\">\n//                                 {row.student}\n//                             </TableCell>\n//                             <TableCell align=\"center\">{row.number}</TableCell>\n//                             <TableCell align=\"center\">{row.project}</TableCell>\n//                         </TableRow>\n//                     ))}\n//                 </TableBody>\n//             </Table>\n//         </Paper>\n//     );\n// }\n\n\nSimpleTable.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(SimpleTable);","map":{"version":3,"sources":["C:\\Users\\耍廢社\\Desktop\\MyProject\\src\\components\\MakeupClass\\MakeupTable1.js"],"names":["React","PropTypes","withStyles","Table","TableBody","TableCell","TableHead","TableRow","Paper","Airtable","TABLE_NAME","base","apiKey","table","styles","theme","root","width","marginTop","spacing","unit","overflowX","backgroundColor","border","head","fontSize","color","id","createData","student","number","project","SimpleTable","state","rows","select","filterByFormula","view","eachPage","records","fetchNextPage","setState","student_id","map","record","index","fields","reserve_date","reserve_address","reserve_class","temp","length","push","classes","props","row","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Airtable from 'airtable';\r\n\r\nconst TABLE_NAME = 'ReserveStudent';\r\nconst base = new Airtable({ apiKey: 'keyA7EKdngjou4Dgy' }).base('appcXtOTPnE4QWIIt');\r\nconst table = base(TABLE_NAME);\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing.unit * 3,\r\n        overflowX: 'auto',\r\n        backgroundColor:'#212832',\r\n        border:'white 1px solid',\r\n    },\r\n    head:{\r\n        fontSize:'14pt',\r\n        color:'#FFBF5F',\r\n    }\r\n});\r\n\r\nlet id = 0;\r\nfunction createData(student, number, project) {\r\n    id += 1;\r\n    return { id, student, number, project};\r\n}\r\n\r\n// const rows = [\r\n//     createData('王小明', 405401360 , '國文A班 02/13'),\r\n//     createData('孫小美', 405401360 , '國文A班 02/13'),\r\n//     createData('王小明', 405401360 , '國文A班 02/13'),\r\n//     createData('孫小美', 405401360 , '國文A班 02/13'),\r\n//     createData('王小明', 405401360 , '國文A班 02/13'),\r\n// ];\r\n\r\nclass SimpleTable extends React.Component {\r\n    state={\r\n        rows:[],\r\n    }\r\n        //airtable\r\n    componentDidMount() {\r\n        table.select({\r\n            filterByFormula: 'AND(reserve_time=\"8:30\")',\r\n            view: \"Grid view\",\r\n        }).eachPage((records, fetchNextPage) => {\r\n            this.setState({ records });\r\n\r\n            const student_id = this.state.records.map((record, index) => record.fields['student_id']);\r\n            const reserve_date = this.state.records.map((record, index) => record.fields['reserve_date']);\r\n            const reserve_address = this.state.records.map((record, index) => record.fields['reserve_address']);\r\n            //const reserve_time = this.state.records.map((record, index) => record.fields['reserve_time']);\r\n            const reserve_class = this.state.records.map((record, index) => record.fields['reserve_class']);\r\n            \r\n            var temp=[];\r\n            for(var index = 0; index < student_id.length; index++) {\r\n                temp.push(createData(student_id[index],reserve_class[index],reserve_date[index]));\r\n            }\r\n\r\n            this.setState({rows : temp});\r\n            fetchNextPage();\r\n        }\r\n        );\r\n    }\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Paper className={classes.root}>\r\n                <Table className={classes.table}>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell className={classes.head}>學號</TableCell>\r\n                            <TableCell className={classes.head} align=\"center\">補課項目</TableCell>\r\n                            <TableCell className={classes.head} align=\"center\">補課日期</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {this.state.rows.map(row => (\r\n                            <TableRow key={row.id}>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {row.student}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">{row.number}</TableCell>\r\n                                <TableCell align=\"center\">{row.project}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\n// function SimpleTable(props) {\r\n//     const { classes } = props;\r\n\r\n//     return (\r\n//         <Paper className={classes.root}>\r\n//             <Table className={classes.table}>\r\n//                 <TableHead>\r\n//                     <TableRow>\r\n//                         <TableCell className={classes.head}>姓名</TableCell>\r\n//                         <TableCell className={classes.head} align=\"center\">學號</TableCell>\r\n//                         <TableCell className={classes.head} align=\"center\">補課項目</TableCell>\r\n//                     </TableRow>\r\n//                 </TableHead>\r\n//                 <TableBody>\r\n//                     {rows.map(row => (\r\n//                         <TableRow key={row.id}>\r\n//                             <TableCell component=\"th\" scope=\"row\">\r\n//                                 {row.student}\r\n//                             </TableCell>\r\n//                             <TableCell align=\"center\">{row.number}</TableCell>\r\n//                             <TableCell align=\"center\">{row.project}</TableCell>\r\n//                         </TableRow>\r\n//                     ))}\r\n//                 </TableBody>\r\n//             </Table>\r\n//         </Paper>\r\n//     );\r\n// }\r\n\r\nSimpleTable.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleTable);"]},"metadata":{},"sourceType":"module"}